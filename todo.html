<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TODO LIST PROJECT</title>
</head>

<body>
  
  
  <!-- <button id="btn-name">CHANGE NAME</button>
  <button id="increase">UP</button>
  <button id="decrease">DOWN</button>
  <div class="counter" id="counter"> 0 </div>
  <button id="addText">Add Text</button> -->

  <input type="text" id="todo-text" />
  <input type="date" name="" id="date-picker"> <!--date-picker-->
  <button id="btn">ADD TODO</button>

  <div class="todo-list" id="todo-list"></div>  

  <script>
    // let name = " Ben";
    // let age = 25;
    // let message = 'Im ' + name + ' and im ' + age + ' years old'

    // console.log(message)//OUTPUT: Im Ben and im 25 years old
    // typeof message // string

    // let todo1 = 'Wash Car'
    // let todo2 = 'Workout'
    // let todo3 = 'Code'
    // let todo4 = 'Eat'

    //We can store these todo values in an array
   //const todos = ['Eat', 'Workout', 'Code']

    //convert todos into obects
    const todos = [{
        title: 'Eat',
        dueDate: '2022-10-24'
      },
      {
        title: 'Workout',
        dueDate: '2022-10-26'
      },
      {
        title: 'Code',
        dueDate: '2022-10-27'
      }]


    render();//to display todos

    //We can use forEach to loop over array and display the items in HTML
    // todos.forEach( todoItem => {
    //     let divElem = document.createElement('div');
    //     divElem.innerHTML = todoItem;
    //     document.body.appendChild(divElem);
    // })\

    //MAP METHOD instead of forEach
    // todos.map(todoItem => {
    //   let divElem = document.createElement('div');
    //   divElem.innerHTML = todoItem;
    //   document.body.appendChild(divElem);
    // })

    let btn = document.getElementById('btn');
    btn.addEventListener('click', addTodo);
    //FUNCTION TO ADD NEW TODO ITEMS IN THE ARRAY OF OBJECTS
    function addTodo() {
      const todoText = document.getElementById('todo-text');
      const title = todoText.value

      //grab due date & title of todo.to associate each todo item with due date we use objects.They group different values related together.   
      const datePicker = document.getElementById('date-picker');
      const dueDate = datePicker.value;

      todos.push({            //pushing an object
        title:title,          //todoText.value
        dueDate:dueDate       //datePicker.value
      });

      console.log(todos)
      
      render()
    }

    function render(){
      //to clear the items in todo-list so that we render an updated list everytime the render function is called

      document.getElementById('todo-list').innerHTML = ''  //this resets the div to an empty list
      
      //loop through objects
      todos.map(todoObject => {
      const divElem = document.createElement('div');
      divElem.innerText = todoObject.title + ' ' + todoObject.dueDate;  //grab todo title and date & add them into divElem
      
      //document.body.appendChild(divElem); - instead of pushing items in the body we push to the div todo-lst
      const todoList = document.getElementById('todo-list');
        todoList.appendChild(divElem)

      /**
       * The logic here is to get the input value, store it in a variable,push the variable to our todos array,loop the array and store each item in a div then append the div
      */
    })
    }



    //function called to display todo items
    // function displayTodos() {
    //     return todos.map(todoItem => {
    //         let divElem = document.createElement('div');
    //         divElem.innerHTML = todoItem;
    //         document.body.appendChild(divElem);
    //     })
    // }

    //CREATE A DIV ELEMENT WITH JS
    /*let divElem = document.createElement('div'); //create element is used to create an HTML element
    divElem.innerHTML = message;
    document.body.appendChild(divElem) //add div to our page(body)

    divElem = document.createElement('div');
    divElem.innerHTML = todo3;
    document.body.appendChild(divElem);

    divElem = document.createElement('div');
    divElem.innerHTML = todo2;
    document.body.appendChild(divElem);

    let btn = document.createElement('button');
    btn.innerHTML = 'click Me'
    document.body.appendChild(btn)
    */


    //REFACTOR USNIG FUNCTIONS
    /*  function createTodos(todoParam){
          let divElem = document.createElement('div');
          divElem.innerHTML = todoParam;
          document.body.appendChild(divElem);
      }
      createTodos(todo2);
      createTodos(todo1);
      createTodos(todo3);
      */
    //when you pass an argument in a function with value between the brackets, this is known as passing in a value to the function Eg
    //createTodos('Param') //OUTPUT: Param



    //###EXERCISES###

    //FUNCTION EXERCISE
    function greet(firstName) {
      console.log("Hello " + firstName);
    }
    greet('Joe'); //OUTPUT: Hello Joe. Notice if argument Joe is without quotes we get an error of 'Joe is not defined' 

    //To Upper Case
    // function toUpper(str){
    //     return str.toUpperCase();
    // }
    // const toUpper = str => str.toUpperCase(); //arrow function
    // console.log(toUpper('Simon'));

    //CONVERSION
    // function convertToCentimiters(length){
    //     return length * 2.54;
    // }
    const convertToCentimiters = length => length * 2.54   //arrow function
    console.log(convertToCentimiters(2));

    //CAPITALIZE ARRAY STRINGS
    function toUpper(arrStr) {
      const newArr = []
      arrStr.forEach(val => {
        result = val.toUpperCase();
        newArr.push(result)
      });
      return newArr;
    }
    console.log(toUpper(todos));

    //REPEAT AN ARRAY VALUE TWICE
    function arrayDouble(arr) {
      let emptyArr = [];
      arr.forEach(value => {
        emptyArr.push(value);
        emptyArr.push(value);
      })
      return emptyArr;
    }
    console.log(arrayDouble(todos));

    //REPEAT USING map
    function arrayDouble(arr) {
      let emptyArr = [];
      arr.map(value => {
        emptyArr.push(value);
        emptyArr.push(value);
      })
      return emptyArr;
    }
    console.log(arrayDouble(todos));

    //SUM OF ARRAY NUMBERS
    function arraySum(arrNum) {
      let total = 0;
      arrNum.forEach(value => {
        total += value; //this is same as total = total + value
      })
      return total;
    }

    //Using REDUCE METHOD
    function arraySum(arrNum) {
      return arrNum.reduce((previousVal, currentVal) => previousVal + currentVal);
    }

    const numbers = [1, 2, 3, 4, 5]
    console.log(arraySum(numbers)); //OUTPUT: 15

    //CHANGE TEXT OF BUTTON (button named NAME CHANGE) ONCE CLICKED
    const changeName = () => btnName.innerHTML = 'Done'

    let btnName = document.getElementById('btn-name')
    btnName.addEventListener('click', changeName)

    //DIV WITH COUNTER & A BUTTON UP WHICH INCREASES THE COUNTER ONCE CLICKED 
    let count = 0; //Initialize count to 0

    function increaseCount() {
      count = count + 1;//increase count then call update function
      countUpdate();
    }

    //DECREASE COUNT
    function decreaseCount() {
      count = count - 1;
      countUpdate();
    }
    //update function that gets called every time count is changed
    function countUpdate() {
      let counter = document.getElementById('counter');
      counter.innerHTML = count;
    }

    console.log(counter.innerHTML)//OUTPUT: 0 

    let increase = document.getElementById('increase');
    increase.addEventListener('click', increaseCount)


    let decrease = document.getElementById('decrease');
    decrease.addEventListener('click', decreaseCount)

    //ADD TEXT FROM TEXTBOX TO PAGE
    
    /**PROCEEDURE
     * 1. Get text box id & value
     * 2. Create div and store text value in it
     * 3. Append the div to body
     * ->these 3 steps are stored in a function which will be called when ASS TEXT button is pressed
     * 
    */


    function addTextValue() {
      let text = document.getElementById('todo-text')
      let textValue = text.value;
      console.log(textValue);
      //CREATE DIV
      let newDiv = document.createElement('div')
      newDiv.innerHTML = textValue;
      document.body.appendChild(newDiv)
    }

    let addText = document.getElementById('addText');
    addText.addEventListener('click', addTextValue)


    /**     ###DIFFERENCE BETWEEN innerHTML & innerTEXT
     * ->innerTEXT returns an element's text and all the child's elements whereas innerHTML returns all text plus the html tagsin an element.
     * ->With innerTEXT you are not able to insert HTML tags but innerHTML one is able to insert HTML tags.So innerTEXT is safer than innerHTML.
     * ->innerTEXT ignores spaces but innerHTML considers the spaces present
     * 
    */

  </script>
</body>

</html>